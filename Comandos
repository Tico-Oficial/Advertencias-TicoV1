PREFIJO: + (De prefijo pones el de tu bot, ya sea "+", "!", "?", ect...)

$nomention

$c[ğŸ‘‡ CAMBIAR PREFIJOS DE SUBCOMANDOSğŸ‘‡]
$var[prefix-config-sistem;config-advs]
$var[prefix-dar-adv;adv]
$var[prefix-ver-advs;advs]
$c[ğŸ‘† CAMBIAR PREFIJOS DE SUBCOMANDOS ğŸ‘†]

$if[$message[1]==$var[prefix-config-sistem]]
$onlyPerms[manageserver;]
$title[âš™ï¸ | Config sistema de advertencias]
$description[
<@$authorID> bienvenido al panel para configurar el sistema de advertencias en tu servidor.

-# **__CREDITOS__**
> - -# **Creador:** <@635160512832733185>]
$color[6e00ff]
$newSelectMenu[me-config-adv;0;1;âš™ï¸ | Configurar sistema;]
$addSelectMenuOption[me-config-adv;Rol de staff;rol;Configura el rol de staff;;ğŸ› ï¸;]
$addSelectMenuOption[me-config-adv;Acciones;acc;Configura acciones automÃ¡ticas;;ğŸ‘®;]
$addSelectMenuOption[me-config-adv;Canal de registros;logs;Configura un canal para los registros;;ğŸ“‹;]
$addSelectMenuOption[me-config-adv;ConfiguraciÃ³n actual;ver;Consulta la configuraciÃ³n actual;;ğŸ‘€;]

$elseif[$message[1]==$var[prefix-dar-adv]]
$jsonParse[$getUserVar[advs-tico;$botID]]
$if[$jsonExists[advs]==false]
$jsonArray[advs]
$endif
$if[$hasRole[$authorID;$json[rol]]==true]
$if[$mentioned[1]!=]
$if[$mentioned[1]==$botID]
$description[âŒ No puedes hacer eso con este bot]
$color[ff0000]
$stop
$endif
$jsonParse[$getUserVar[advs-tico;$mentioned[1]]]
$if[$jsonExists[advs]==false]
$jsonArray[advs]
$endif
$if[$sum[$charCount[$getUserVar[advs-tico;$mentioned[1]]];$charCount[$messagesystembyticogod$getTimestamp]]>=4999]
$description[âŒ Variable de usuario llena, borra advertencias e intentalo de nuevo]
$color[ff0000]
$stop
$endif
$if[$jsonExists[advs-u]==true]
$jsonSetString[advs-u;$sum[$json[advs-u];1]]
$setUserVar[advs-tico;$jsonStringify;$mentioned[1]]
$else
$jsonSetString[advs-u;0]
$jsonSetString[advs-u;$sum[$json[advs-u];1]]
$setUserVar[advs-tico;$jsonStringify;$mentioned[1]]
$endif
$var[razon;$noMentionMessage]
$var[razon;$replaceText[$replaceText[$checkCondition[$var[razon]==adv];true; No especificada;1];false;$replaceText[$var[razon];adv;;1];1]]
$if[$jsonArrayCount[advs]<=0]
$setUserVar[advs-tico;$replaceText[$jsonStringify;\];{"staff":"$authorID","razon":"$var[razon]","cd":"$randomString[4]","fecha":"$getTimestamp"}\]];$mentioned[1]]
$else
$setUserVar[advs-tico;$replaceText[$jsonStringify;\];,{"staff":"$authorID","razon":"$var[razon]","cd":"$randomString[4]","fecha":"$getTimestamp"}\]];$mentioned[1]]
$endif

$jsonParse[$getUserVar[advs-tico;$mentioned[1]]]
$var[advs;$json[advs-u]]
$jsonParse[$getUserVar[advs-tico;$botID]]
$var[canal;$json[logs]]
$if[$checkContains[$json[advs];$var[advs"]]==true]
$var[tico;0]
$eval[$repeatMessage[$jsonArrayCount[advs];
$$c[]textSplit[$$c[]json[advs\;$$c[]var[tico\]\;cd\]\;\]
$$c[]if[$$c[]splitText[3\]==$$c[]var[advs\]\]
$$c[]var[acc\;$$c[]json[advs\;$$c[]var[tico\]\;acc\]\]
$$c[]var[time\;$$c[]json[advs\;$$c[]var[tico\]\;time\]\]
$$c[]stop
$$c[]endif
$$c[]var[tico\;$$c[]sum[$$c[]var[tico\]\;1\]\]
]]
$if[$toLowercase[$var[acc]]==mute]
$try
$timeout[$var[time];$mentioned[1]]
$catch
$var[error;yes]
$endtry
$var[text;$replaceText[$replaceText[$checkCondition[$var[error]==yes];true;

âŒ No se pudo aplicar la acciÃ³n automÃ¡tica por problemas de jerarquia/permisos;1];false;

TambiÃ©n fuÃ© **muteado $var[time]** automÃ¡ticamente;1]]
$elseif[$toLowercase[$var[acc]]==kick]
$try
$kickMention
$catch
$var[error;yes]
$endtry
$var[text;$replaceText[$replaceText[$checkCondition[$var[error]==yes];true;

âŒ No se pudo aplicar la acciÃ³n automÃ¡tica por problemas de jerarquia/permisos;1];false;

TambiÃ©n fuÃ© **kickeado** automÃ¡ticamente;1]]
$elseif[$toLowercase[$var[acc]]==ban]
$try
$banID[ConfiguraciÃ³n de acciones automaticas;$mentioned[1]]
$catch
$var[error;yes]
$endtry
$var[text;$replaceText[$replaceText[$checkCondition[$var[error]==yes];true;

âŒ No se pudo aplicar la acciÃ³n automÃ¡tica por problemas de jerarquia/permisos;1];false;

TambiÃ©n fuÃ© **baneado** automÃ¡ticamente;1]]
$endif
$endif
$description[âœ… Usuario advertido correctamente $var[text]]
$color[00ff00]

$if[$channelExists[$var[canal]]==true]
$sendEmbedMessage[$var[canal];;
âš ï¸ Nueva advertencia;;
**ğŸ‘¤ Usuario:** <@$mentioned[1]>
**ğŸ‘” Encargado:** <@$authorID>
**â‰ï¸ RazÃ³n:** $var[razon] $var[text]
;6e00ff;;;;;;;;]
$endif

$else
$description[âŒ Menciona a un usuario]
$color[ff0000]
$endif

$else
$description[âŒ No tenes permisos para usar este comando]
$color[ff0000]
$endif

$elseif[$message[1]==$var[prefix-ver-advs]]
$jsonParse[$getUserVar[advs-tico;$mentioned[1;yes]]]
$if[$jsonExists[advs]==false]
$jsonArray[advs]
$endif
$if[$and[$jsonArrayCount[advs]>0;$jsonArrayCount[advs]<10]==true]
$var[repe;$jsonArrayCount[advs]]
$else
$var[repe;10]
$endif
$var[tico;0]
$var[tico2;1]
$jsonArrayReverse[advs]
$eval[$repeatMessage[$var[repe];
$$c[]var[acciones\;$$c[]var[acciones\]
#-----------------__**($$c[]var[tico2\])**__-----------------#
**ğŸ†” CÃ³digo de caso:** $$c[]json[advs\;$$c[]var[tico\]\;cd\]
**ğŸ‘® Encargado:** <@$$c[]json[advs\;$$c[]var[tico\]\;staff\]>
**â‰ï¸ RazÃ³n:**$$c[]json[advs\;$$c[]var[tico\]\;razon\]
**ğŸ—“ï¸ Fecha:** <t:$$c[]json[advs\;$$c[]var[tico\]\;fecha\]:F>
\]
$$c[]var[tico\;$$c[]sum[$$c[]var[tico\]\;1\]\]
$$c[]var[tico2\;$$c[]sum[$$c[]var[tico2\]\;1\]\]
]]
$title[âš ï¸ Advertencias]
$description[$replaceText[$replaceText[$checkCondition[$jsonArrayCount[advs]>0];true;
**ğŸ‘¤ Usuario:** <@$mentioned[1;yes]>
**#ï¸âƒ£ Total:** $jsonArrayCount[advs]
$var[acciones];1];false;No hay advertencias;1]]
$footer[$replaceText[$replaceText[$checkCondition[$jsonArrayCount[advs]>0];true;PÃ¡gina 1;1];false;$serverName[$guildID];1]]
$color[6e00ff]
$if[$jsonArrayCount[advs]>0]
$addButton[no;$mentioned[1;yes]-<advs-config-adv;;secondary;yes;â¬…ï¸;]
$addButton[no;$mentioned[1;yes]-user-borr-config-adv;Quitar advertencia;danger;no;;]
$addButton[no;$mentioned[1;yes]-advs>-config-adv;;secondary;$if[$jsonArrayCount[advs]>10]no$elseyes$endif;â¡ï¸;]
$endif
$endif
